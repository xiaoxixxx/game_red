import{u as e,r as a,a as l,c as s,d as t,e as o,w as d,i as r,f as p,k as u,l as n,t as i,m as c,n as h,T as v,Q as g,v as _}from"./index.61b5b460.js";import{_ as w}from"./loading.d21df86d.js";import{_ as m,o as y,a as x,r as f}from"./request.ef5cbed2.js";import{_ as k,a as b}from"./eyeClose.26c6c18a.js";import{t as C}from"./topNav.ecc43495.js";var V=m({__name:"set3",setup(m){const V=e(),j=a(!0),{t:I}=l(),P=a(null),U=a({old_password:"",password:"",password2:"",type:1}),L=a(!1),T=()=>!U.value.old_password&&L.value?(v.text(I("setting.s_p6")),!1):U.value.password.length<6||U.value.password.length>24?(v.text(I("setting.s_p7")),!1):U.value.password!==U.value.password2?(v.text(I("setting.s_p8")),!1):(P.value.loading=!0,void setTimeout((()=>{q()}),1500)),q=()=>{f({methods:"post",url:"user/attribute/password",data:U.value}).then((e=>{P.value.loading=!1,v.text(I("setting.s_s3")),history.back()})).catch((e=>{P.value.loading=!1,v.text(e.message)}))};return y((()=>{f({url:"user/attribute/password",methods:"get",data:{}}).then((e=>{e.payment_password&&(L.value=!0)}))})),(e,a)=>{const l=r,v=g,m=_,y=x(s("Loading"),w);return t(),o(l,null,{default:d((()=>[p(C,{title:u(I)("setting.s_p1")},null,8,["title"]),p(l,{class:"pdlr45 mt70"},{default:d((()=>[L.value?(t(),o(l,{key:0},{default:d((()=>[p(l,{class:""},{default:d((()=>[n(i(u(I)("setting.s_p2")),1)])),_:1}),p(l,{class:"settingInp mt30 between"},{default:d((()=>[p(v,{type:j.value?"password":"text",placeholder:u(I)("setting.s_p2"),"placeholder-class":"inpPlaceholder",style:{height:"100%",width:"100%",color:"#333"},modelValue:U.value.old_password,"onUpdate:modelValue":a[0]||(a[0]=e=>U.value.old_password=e)},null,8,["type","placeholder","modelValue"]),j.value?c("",!0):(t(),o(m,{key:0,src:k,style:{width:"40rpx",height:"40rpx"},onClick:a[1]||(a[1]=e=>j.value=!j.value)})),j.value?(t(),o(m,{key:1,src:b,style:{width:"40rpx",height:"40rpx"},onClick:a[2]||(a[2]=e=>j.value=!j.value)})):c("",!0)])),_:1})])),_:1})):c("",!0),p(l,{class:"mt55"},{default:d((()=>[n(i(u(I)("setting.s_p4")),1)])),_:1}),p(l,{class:"settingInp mt30 between"},{default:d((()=>[p(v,{type:j.value?"password":"text",placeholder:u(I)("setting.s_p4"),"placeholder-class":"inpPlaceholder",style:{height:"100%",width:"100%",color:"#333"},modelValue:U.value.password,"onUpdate:modelValue":a[3]||(a[3]=e=>U.value.password=e)},null,8,["type","placeholder","modelValue"]),j.value?c("",!0):(t(),o(m,{key:0,src:k,style:{width:"40rpx",height:"40rpx"},onClick:a[4]||(a[4]=e=>j.value=!j.value)})),j.value?(t(),o(m,{key:1,src:b,style:{width:"40rpx",height:"40rpx"},onClick:a[5]||(a[5]=e=>j.value=!j.value)})):c("",!0)])),_:1}),p(l,{class:"mt55"},{default:d((()=>[n(i(u(I)("setting.s_p5")),1)])),_:1}),p(l,{class:"settingInp mt30 between"},{default:d((()=>[p(v,{type:j.value?"password":"text",placeholder:u(I)("setting.s_p5"),modelValue:U.value.password2,"onUpdate:modelValue":a[6]||(a[6]=e=>U.value.password2=e),"placeholder-class":"inpPlaceholder",style:{height:"100%",width:"100%",color:"#333"}},null,8,["type","placeholder","modelValue"]),j.value?c("",!0):(t(),o(m,{key:0,src:k,style:{width:"40rpx",height:"40rpx"},onClick:a[7]||(a[7]=e=>j.value=!j.value)})),j.value?(t(),o(m,{key:1,src:b,style:{width:"40rpx",height:"40rpx"},onClick:a[8]||(a[8]=e=>j.value=!j.value)})):c("",!0)])),_:1}),p(l,{class:"inpBtn center",style:h([{"margin-top":"180rpx"},{background:u(V).$state.contentColor}]),onClick:T},{default:d((()=>[n(i(u(I)("all.a_c2")),1)])),_:1},8,["style"])])),_:1}),p(y,{ref_key:"showLoading",ref:P},null,512)])),_:1})}}},[["__scopeId","data-v-027bc5e3"]]);export{V as default};
