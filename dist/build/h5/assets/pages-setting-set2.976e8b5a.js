import{u as e,a,r as l,b as t,c as s,d as n,e as o,w as u,i as d,f as c,k as r,l as i,t as p,n as h,T as _,Q as b}from"./index.61b5b460.js";import{o as m,a as v,r as g,f as k}from"./request.ef5cbed2.js";import{_ as f}from"./loading.d21df86d.js";import{t as x}from"./topNav.ecc43495.js";const V={__name:"set2",setup(V){const y=e(),{t:I}=a(),w=l(!1),U=l([]),C=l(null),P=l({bankId:"",bank_num:"",account_holder:"",phone:"",other_param_1:""}),j=l(""),T=({selectedValue:e,selectedOptions:a})=>{j.value=a[0].text,P.value.bankId=a[0].value},L=l(!1),$=()=>(k("log","at pages/setting/set2.vue:145",P.value),P.value.bankId?P.value.bank_num?P.value.account_holder?P.value.phone?(C.value.loading=!0,void setTimeout((()=>{q()}),2e3)):(TToast.text(I("setting.s_b7")),!1):(_.text(I("setting.s_b5")),!1):(_.text(I("setting.s_b4")),!1):(_.text(I("setting.s_b2")),!1)),q=()=>{g({url:"user/attribute/bankcard",methods:"post",data:P.value}).then((e=>{C.value.loading=!1,_.text(I("setting.s_s3")),history.back()})).catch((e=>{C.value.loading=!1,_.text(e.message)}))};return m((()=>{g({url:"user/attribute/bankcard",methods:"get"}).then((e=>{if(e.banks.length>0){let a=[];for(let l=0;l<e.banks.length;l++)e.banks[l].text=e.banks[l].name,e.banks[l].value=e.banks[l].id,a.push(e.banks[l]);U.value=a}if(1==e.bank_card_can_edit?L.value=!0:L.value=!1,e.bankcard){P.value.account_holder=e.bankcard.account_holder,P.value.phone=e.bankcard.phone,P.value.bank_num=e.bankcard.bank_num,P.value.bankId=e.bankcard.bankId;try{P.value.other_param_1=e.bankcard.other_param_1}catch(a){}for(let e in U.value)U.value[e].id==P.value.bankId&&(j.value=U.value[e].text)}}))})),(e,a)=>{const l=d,_=b,m=t("IconFont"),g=t("nut-picker"),k=v(s("Loading"),f);return n(),o(l,null,{default:u((()=>[c(x,{title:r(I)("setting.s_b1")},null,8,["title"]),c(l,{class:"pdlr45 mt70"},{default:u((()=>[c(l,null,{default:u((()=>[i(p(r(I)("setting.s_b2")),1)])),_:1}),c(l,{class:"settingInp mt30 between pr35",style:{width:"400rpx"}},{default:u((()=>[c(_,{type:"text",disabled:"",placeholder:r(I)("setting.s_b2"),"placeholder-class":"inpPlaceholder",style:{height:"100%",width:"80%",color:"#333"},onClick:a[0]||(a[0]=e=>w.value=!0),modelValue:j.value,"onUpdate:modelValue":a[1]||(a[1]=e=>j.value=e)},null,8,["placeholder","modelValue"]),c(m,{name:"down-arrow",color:r(y).$state.contentColor},null,8,["color"])])),_:1}),c(l,{class:"mt55"},{default:u((()=>[i(p(r(I)("setting.s_b4")),1)])),_:1}),c(l,{class:"settingInp mt30"},{default:u((()=>[c(_,{type:"text",placeholder:r(I)("setting.s_b4"),"placeholder-class":"inpPlaceholder",style:{height:"100%",width:"100%",color:"#333"},modelValue:P.value.bank_num,"onUpdate:modelValue":a[2]||(a[2]=e=>P.value.bank_num=e)},null,8,["placeholder","modelValue"])])),_:1}),c(l,{class:"mt55"},{default:u((()=>[i(p(r(I)("setting.s_b5")),1)])),_:1}),c(l,{class:"settingInp mt30"},{default:u((()=>[c(_,{type:"text",placeholder:r(I)("setting.s_b5"),"placeholder-class":"inpPlaceholder",style:{height:"100%",width:"100%",color:"#333"},modelValue:P.value.account_holder,"onUpdate:modelValue":a[3]||(a[3]=e=>P.value.account_holder=e)},null,8,["placeholder","modelValue"])])),_:1}),c(l,{class:"mt55"},{default:u((()=>[i(p(r(I)("setting.s_b6")),1)])),_:1}),c(l,{class:"settingInp mt30"},{default:u((()=>[c(_,{type:"text",placeholder:r(I)("setting.s_b6"),"placeholder-class":"inpPlaceholder",style:{height:"100%",width:"100%",color:"#333"},modelValue:P.value.other_param_1,"onUpdate:modelValue":a[4]||(a[4]=e=>P.value.other_param_1=e)},null,8,["placeholder","modelValue"])])),_:1}),c(l,{class:"mt38"},{default:u((()=>[c(l,{class:"pl14"},{default:u((()=>[i(p(r(I)("setting.s_b7")),1)])),_:1}),c(l,{class:"mt34 settingInp"},{default:u((()=>[c(_,{"placeholder-class":"inpPlaceholder",placeholder:r(I)("setting.s_b7"),modelValue:P.value.phone,"onUpdate:modelValue":a[5]||(a[5]=e=>P.value.phone=e),style:{height:"100%",width:"100%",color:"#333"}},null,8,["placeholder","modelValue"])])),_:1})])),_:1}),c(l,{class:"inpBtn center",style:h([{"margin-top":"180rpx"},{background:r(y).$state.contentColor}]),onClick:$},{default:u((()=>[i(p(r(I)("all.a_c2")),1)])),_:1},8,["style"])])),_:1}),c(g,{visible:w.value,"onUpdate:visible":a[6]||(a[6]=e=>w.value=e),text:"text2",columns:U.value,onConfirm:T,"cancel-text":"cancel","ok-text":"confirm"},null,8,["visible","columns"]),c(k,{ref_key:"showLoading",ref:C},null,512)])),_:1})}}};export{V as default};
