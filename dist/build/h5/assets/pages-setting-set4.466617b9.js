import{u as e,r as l,a,c as s,d as t,e as o,w as d,i as r,f as p,k as u,l as n,t as i,m as c,n as h,T as v,Q as g,v as _}from"./index.61b5b460.js";import{_ as w}from"./loading.d21df86d.js";import{_ as m,a as y,r as x}from"./request.ef5cbed2.js";import{_ as f,a as k}from"./eyeClose.26c6c18a.js";import{t as b}from"./topNav.ecc43495.js";var C=m({__name:"set4",setup(m){const C=e(),V=l(!0),{t:j}=a(),I=l(null),P=l({old_password:"",password:"",password2:"",type:0}),U=()=>P.value.old_password?P.value.password.length<6||P.value.password.length>24?(v.text(j("setting.s_p7")),!1):P.value.password!==P.value.password2?(v.text(j("setting.s_p8")),!1):(I.value.loading=!0,void setTimeout((()=>{L()}),1500)):(v.text(j("setting.s_p6")),!1),L=()=>{x({methods:"post",url:"user/attribute/password",data:P.value}).then((e=>{I.value.loading=!1,v.text(j("setting.s_s3")),history.back()})).catch((e=>{I.value.loading=!1,v.text(e.message)}))};return(e,l)=>{const a=r,v=g,m=_,x=y(s("Loading"),w);return t(),o(a,null,{default:d((()=>[p(b,{title:u(j)("setting.s_p8")},null,8,["title"]),p(a,{class:"pdlr45 mt70"},{default:d((()=>[p(a,null,{default:d((()=>[p(a,{class:""},{default:d((()=>[n(i(u(j)("setting.s_p2")),1)])),_:1}),p(a,{class:"settingInp mt30 between"},{default:d((()=>[p(v,{type:V.value?"password":"text",placeholder:u(j)("setting.s_p2"),"placeholder-class":"inpPlaceholder",style:{height:"100%",width:"100%",color:"#333"},modelValue:P.value.old_password,"onUpdate:modelValue":l[0]||(l[0]=e=>P.value.old_password=e)},null,8,["type","placeholder","modelValue"]),V.value?c("",!0):(t(),o(m,{key:0,src:f,style:{width:"40rpx",height:"40rpx"},onClick:l[1]||(l[1]=e=>V.value=!V.value)})),V.value?(t(),o(m,{key:1,src:k,style:{width:"40rpx",height:"40rpx"},onClick:l[2]||(l[2]=e=>V.value=!V.value)})):c("",!0)])),_:1})])),_:1}),p(a,{class:"mt55"},{default:d((()=>[n(i(u(j)("setting.s_p4")),1)])),_:1}),p(a,{class:"settingInp mt30 between"},{default:d((()=>[p(v,{type:V.value?"password":"text",placeholder:u(j)("setting.s_p4"),"placeholder-class":"inpPlaceholder",style:{height:"100%",width:"100%",color:"#333"},modelValue:P.value.password,"onUpdate:modelValue":l[3]||(l[3]=e=>P.value.password=e)},null,8,["type","placeholder","modelValue"]),V.value?c("",!0):(t(),o(m,{key:0,src:f,style:{width:"40rpx",height:"40rpx"},onClick:l[4]||(l[4]=e=>V.value=!V.value)})),V.value?(t(),o(m,{key:1,src:k,style:{width:"40rpx",height:"40rpx"},onClick:l[5]||(l[5]=e=>V.value=!V.value)})):c("",!0)])),_:1}),p(a,{class:"mt55"},{default:d((()=>[n(i(u(j)("setting.s_p5")),1)])),_:1}),p(a,{class:"settingInp mt30 between"},{default:d((()=>[p(v,{type:V.value?"password":"text",placeholder:u(j)("setting.s_p5"),modelValue:P.value.password2,"onUpdate:modelValue":l[6]||(l[6]=e=>P.value.password2=e),"placeholder-class":"inpPlaceholder",style:{height:"100%",width:"100%",color:"#333"}},null,8,["type","placeholder","modelValue"]),V.value?c("",!0):(t(),o(m,{key:0,src:f,style:{width:"40rpx",height:"40rpx"},onClick:l[7]||(l[7]=e=>V.value=!V.value)})),V.value?(t(),o(m,{key:1,src:k,style:{width:"40rpx",height:"40rpx"},onClick:l[8]||(l[8]=e=>V.value=!V.value)})):c("",!0)])),_:1}),p(a,{class:"inpBtn center",style:h([{"margin-top":"180rpx"},{background:u(C).$state.contentColor}]),onClick:U},{default:d((()=>[n(i(u(j)("all.a_c2")),1)])),_:1},8,["style"])])),_:1}),p(x,{ref_key:"showLoading",ref:I},null,512)])),_:1})}}},[["__scopeId","data-v-009fae52"]]);export{C as default};
